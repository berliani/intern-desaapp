document.addEventListener("DOMContentLoaded",(()=>{const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting&&!e.target._x_isShown){let i=function(e){o||(o=e);const t=Math.min((e-o)/n,1);a.value=Math.floor(t*a.target),t<1?window.requestAnimationFrame(i):a.value=a.target};e.target._x_isShown=!0;const a=Alpine.$data(e.target),n=1e3;let o=null;window.requestAnimationFrame(i),t.unobserve(e.target)}}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".counter-item").forEach((t=>{e.observe(t)}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".berita-slider")&&new Swiper(".berita-slider",{slidesPerView:1,spaceBetween:24,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".berita-pagination",clickable:!0,dynamicBullets:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:30}}}),document.querySelector(".umkm-slider")&&new Swiper(".umkm-slider",{slidesPerView:1,spaceBetween:24,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".umkm-pagination",clickable:!0,dynamicBullets:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:30}}}),setTimeout((function(){const e=document.querySelector(".map-loader");e&&(e.style.display="none")}),5e3)})),document.addEventListener("alpine:init",(()=>{Alpine.data("tabNavigation",(()=>({activeTab:"about",init(){const e=window.location.hash.substring(1);["about","vision","history","structure","geography"].includes(e)&&(this.activeTab=e,this.$nextTick((()=>this.scrollToActiveTab()))),this.$watch("activeTab",(e=>{history.replaceState(null,null,e?`#${e}`:window.location.pathname),this.scrollToActiveTab()}))},scrollToActiveTab(){setTimeout((()=>{const e=document.getElementById("tab-"+this.activeTab);if(e){const t=document.getElementById("tabPills"),i=t.offsetWidth,a=e.offsetWidth,n=e.offsetLeft;t.scrollTo({left:n-i/2+a/2,behavior:"smooth"})}}),50)}}))),Alpine.data("imageSlider",(()=>({currentIndex:0,totalImages:1,touchStartX:0,touchEndX:0,init(){this.totalImages=parseInt(this.$el.dataset.totalImages||1),this.totalImages>1&&this.startAutoSlide()},startAutoSlide(){this.autoSlideInterval=setInterval((()=>{this.next()}),5e3)},stopAutoSlide(){this.autoSlideInterval&&clearInterval(this.autoSlideInterval)},next(){this.stopAutoSlide(),this.currentIndex=(this.currentIndex+1)%this.totalImages,this.startAutoSlide()},prev(){this.stopAutoSlide(),this.currentIndex=(this.currentIndex-1+this.totalImages)%this.totalImages,this.startAutoSlide()},touchStart(e){this.touchStartX=e.changedTouches[0].screenX},touchEnd(e){this.touchEndX=e.changedTouches[0].screenX,this.handleSwipe()},handleSwipe(){const e=this.touchEndX-this.touchStartX;e>50?this.prev():e<-50&&this.next()}})))})),window.copyToClipboard=function(e){navigator.clipboard.writeText(e).then((()=>{const e=document.createElement("div");e.className="fixed bottom-4 right-4 bg-gray-900 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-fade-in z-50",e.innerHTML='\n                <i class="fas fa-check text-emerald-400"></i>\n                <span>Link berhasil disalin!</span>\n            ',document.body.appendChild(e),setTimeout((()=>{e.classList.add("animate-fade-out"),setTimeout((()=>e.remove()),300)}),2e3)})).catch(console.error)};
